<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indianapolis Road Course - Interactive Track Map</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #1a1a1a;
            font-family: Arial, sans-serif;
        }
        
        .track-container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            background-color: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
        }
        
        h1 {
            color: #fff;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .controls {
            text-align: center;
            margin-bottom: 15px;
        }
        
        .controls button {
            background-color: #4a4a4a;
            color: #fff;
            border: none;
            padding: 8px 15px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .controls button:hover {
            background-color: #5a5a5a;
        }
        
        .zoom-info {
            color: #ccc;
            font-size: 12px;
            margin-left: 10px;
        }
        
        .track-surface {
            fill: none;
            stroke-miterlimit: 10;
            stroke: #f4f4f5;
            stroke-width: 2;
            cursor: grab;
        }
        
        .track-surface:active {
            cursor: grabbing;
        }
        
        .track-map {
            width: 100%;
            height: 600px;
            border: 2px solid #444;
            border-radius: 5px;
            background-color: #0a0a0a;
            cursor: grab;
        }
        
        .track-map:active {
            cursor: grabbing;
        }
    </style>
</head>
<body>
    <div class="track-container">
        <h1>Indianapolis Road Course - Interactive Track Map</h1>
        
        <div class="controls">
            <button onclick="zoomIn()">Zoom In (+)</button>
            <button onclick="zoomOut()">Zoom Out (-)</button>
            <button onclick="resetView()">Reset View</button>
            <span class="zoom-info">Zoom: <span id="zoomLevel">100%</span></span>
        </div>
        
        <svg class="track-map" id="trackSvg" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <g id="trackGroup" transform="translate(0,0) scale(1)">
            <!--
            <div class="coordinate-display" id="coordinates">
                X: 0, Y: 0 | SVG: (0, 0) | Transform: (0, 0)
            </div>
            -->
                <path class="track-surface" d="M 124.93136,181.2191 
	c -21.47552,0 -45.241132,-0.15167 -69.143246,-0.59149 -0.500492,-0.0152 -0.98582,-0.0456 -1.471136,-0.13649 
	-1.607631,-0.25783 -3.776419,-0.84932 -4.974551,-2.18396 -1.016147,-1.13747 -2.593439,-3.68541 -1.774466,-8.14431 
	0.30333,-1.6228 0.561158,-4.59539 -1.046473,-6.46085 -1.198144,-1.38014 -3.321418,-2.03229 -6.309192,-1.92612 
	-0.470152,0.0151 -1.122303,0.0606 -1.835119,0.10618 -1.319476,0.091 -2.684443,0.18199 -3.609585,0.15166 
	-6.642848,-0.2275 -10.828748,-1.31947 -13.558685,-3.50342 C 13.792579,152.61543 10.349825,141.87768 9.9706666,140.67955 
	8.3327039,135.341 10.334658,130.88211 15.582203,128.137 c 2.062623,-1.07681 3.91291,-1.69864 7.295,-1.69864 
	3.382091,0 7.583152,0.0759 10.874243,0.12135 1.501462,0.0303 2.851266,0.0456 3.912915,0.0606 
	3.897739,-0.10618 4.70156,-1.12229 5.717707,-2.3811 1.653121,-2.06262 3.382072,-3.63992 9.281777,-3.63992 
	6.506353,0 120.208255,0.68249 121.345725,0.69765 0.5915,0 1.00097,-0.28816 1.22848,-0.53082 
	0.36399,-0.39432 0.57631,-0.94032 0.54599,-1.51664 -0.0303,-0.65215 -0.0606,-1.41046 -0.10618,-2.2446 
	-0.2275,-4.73191 -0.54599,-11.22309 -0.0456,-14.39285 0.84931,-5.384042 4.12524,-6.915843 7.02201,-8.265647 
	1.83512,-0.864487 3.56408,-1.668296 5.02005,-3.397248 1.80479,-2.153624 1.3498,-6.233361 0.92515,-10.176615 
	-0.33366,-3.109093 -0.69766,-6.339519 -0.0152,-8.993623 0.83414,-3.291091 3.13942,-5.247543 6.84,-5.8087 
	3.29109,-0.50048 8.25048,-0.591484 12.95204,-0.212325 5.88453,0.470153 16.65262,1.895785 22.11249,3.928078 
	10.07044,3.761244 16.92562,10.58609 20.36838,20.292542 4.82288,13.604178 4.21623,24.493608 3.63991,35.019028 
	-0.16683,2.91193 -0.97065,6.76419 -6.0817,6.76419 v 0 c -2.89677,0 -7.85615,-0.182 -11.82973,-0.33366 
	-1.48629,-0.0606 -2.91194,-0.10618 -4.01907,-0.15168 -1.27397,-0.0456 -2.50244,0.33367 -3.44275,1.07681 
	-1.66829,1.28914 -2.00196,2.95744 -1.00098,5.11105 0.25783,0.54599 0.59148,1.24365 0.98581,2.06263 
	1.44081,2.98776 3.42758,7.08266 4.04941,9.38794 1.89578,7.05234 0.51564,14.13501 -3.88258,19.94371 
	-2.65411,3.5186 -6.35469,6.44568 -10.70742,8.46281 -4.4589,2.09295 -9.63062,3.21525 -14.92367,3.27592 
	-1.56213,0.0152 -3.42758,0.0456 -5.5812,0.0606 -14.83265,0.24266 -41.49503,0.56114 -73.132,0.56114 z"/>
                
                <!-- Start/Finish Line -->
                <rect style="fill:#ff0000;stroke-width:1.16076" 
                      width="1.1603841" 
                      height="6.796535" 
                      x="141.26521" 
                      y="177.90924" />
            </g>
            </svg>
        </div>
    </div>

    <script>
        let currentZoom = 3.28;
        let currentTranslateX = 0;
        let currentTranslateY = 0;
        let isDragging = false;
        let lastX, lastY;
        
        const trackGroup = document.getElementById('trackGroup');
        const svg = document.getElementById('trackSvg');
        const zoomLevelSpan = document.getElementById('zoomLevel');
    // const coordinatesDisplay = document.getElementById('coordinates');
        
        // Initial positioning - center and scale the track
        resetView();
        
        function updateCoordinates(e) {
            /*
            const rect = svg.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            // Convert screen coordinates to SVG coordinates
            const svgPoint = svg.createSVGPoint();
            svgPoint.x = x;
            svgPoint.y = y;
            const svgCoords = svgPoint.matrixTransform(svg.getScreenCTM().inverse());
            // Convert SVG coordinates to track coordinates (accounting for current transform)
            const trackX = (svgCoords.x - currentTranslateX) / currentZoom;
            const trackY = (svgCoords.y - currentTranslateY) / currentZoom;
            coordinatesDisplay.textContent = 
                `Screen: (${Math.round(x)}, ${Math.round(y)}) | SVG: (${Math.round(svgCoords.x)}, ${Math.round(svgCoords.y)}) | Track: (${Math.round(trackX)}, ${Math.round(trackY)})`;
            */
        }
        
        function updateTransform() {
            trackGroup.setAttribute('transform', 
                `translate(${currentTranslateX}, ${currentTranslateY}) scale(${currentZoom})`);
            zoomLevelSpan.textContent = Math.round(currentZoom * 100) + '%';
        }
        
        function zoomIn() {
            currentZoom = Math.min(currentZoom * 1.5, 10);
            updateTransform();
        }
        
        function zoomOut() {
            currentZoom = Math.max(currentZoom / 1.5, 0.1);
            updateTransform();
        }
        
        function resetView() {
            currentZoom = 3.25;
            // Center track coordinates)
            currentTranslateX = -20;
            currentTranslateY = -100;
            updateTransform();
        }
        
        // Mouse wheel zoom
        svg.addEventListener('wheel', function(e) {
            e.preventDefault();
            // updateCoordinates(e);
            const rect = svg.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
            const newZoom = Math.min(Math.max(currentZoom * zoomFactor, 0.1), 10);
            
            // Zoom towards mouse position
            currentTranslateX = x - (x - currentTranslateX) * (newZoom / currentZoom);
            currentTranslateY = y - (y - currentTranslateY) * (newZoom / currentZoom);
            currentZoom = newZoom;
            
            updateTransform();
        });
        
        // Mouse drag to pan
        svg.addEventListener('mousedown', function(e) {
            // updateCoordinates(e);
            isDragging = true;
            lastX = e.clientX;
            lastY = e.clientY;
            svg.style.cursor = 'grabbing';
        });
        
        document.addEventListener('mousemove', function(e) {
            /*
            // Update coordinates display when over SVG
            if (e.target === svg || svg.contains(e.target)) {
                updateCoordinates(e);
            }
            */
            
            if (!isDragging) return;
            
            const deltaX = e.clientX - lastX;
            const deltaY = e.clientY - lastY;
            
            currentTranslateX += deltaX;
            currentTranslateY += deltaY;
            
            lastX = e.clientX;
            lastY = e.clientY;
            
            updateTransform();
        });
        
        document.addEventListener('mouseup', function() {
            if (isDragging) {
                isDragging = false;
                svg.style.cursor = 'grab';
            }
        });
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case '+':
                case '=':
                    e.preventDefault();
                    zoomIn();
                    break;
                case '-':
                    e.preventDefault();
                    zoomOut();
                    break;
                case '0':
                    e.preventDefault();
                    resetView();
                    break;
            }
        });
        
        // Touch support for mobile
        let initialDistance = 0;
        let initialZoom = 1;
        
        svg.addEventListener('touchstart', function(e) {
            if (e.touches.length === 2) {
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                initialDistance = Math.hypot(
                    touch1.clientX - touch2.clientX,
                    touch1.clientY - touch2.clientY
                );
                initialZoom = currentZoom;
            } else if (e.touches.length === 1) {
                isDragging = true;
                lastX = e.touches[0].clientX;
                lastY = e.touches[0].clientY;
            }
            e.preventDefault();
        });
        
        svg.addEventListener('touchmove', function(e) {
            if (e.touches.length === 2) {
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const distance = Math.hypot(
                    touch1.clientX - touch2.clientX,
                    touch1.clientY - touch2.clientY
                );
                currentZoom = Math.min(Math.max(initialZoom * (distance / initialDistance), 0.1), 10);
                updateTransform();
            } else if (e.touches.length === 1 && isDragging) {
                const deltaX = e.touches[0].clientX - lastX;
                const deltaY = e.touches[0].clientY - lastY;
                
                currentTranslateX += deltaX;
                currentTranslateY += deltaY;
                
                lastX = e.touches[0].clientX;
                lastY = e.touches[0].clientY;
                
                updateTransform();
            }
            e.preventDefault();
        });
        
        svg.addEventListener('touchend', function(e) {
            isDragging = false;
            e.preventDefault();
        });
    </script>
</body>
</html>